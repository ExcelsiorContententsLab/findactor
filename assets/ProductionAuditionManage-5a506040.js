import{_ as w,W as C,r as I,o,c as s,d as l,w as u,T as K,S as N,e as c,F as _,h as p,i as j,j as m,t as f,G as v,g as b,a1 as z,O as U,H as O,B as q,v as F,x as R}from"./index-dfe4aa20.js";import{a as P,_ as x,b as D}from"./actors-3a9455d5.js";/* empty css              *//* empty css              */import"./context-efe9ffbb.js";const E={name:"production-audition-manage",data(){return{openedProductionList:[],subMenu:"applicant",isProfileDetailVisible:!1,selectedProfile:{},auditions:[],closedAuditions:[],currentAudition:null,actors:P}},computed:{scrapList(){return this.$store.state.auditionList.filter(i=>i.isScrap)},myProductionList(){return this.$store.state.productionList.filter(i=>i.isLiked)},myOfferedProductionList(){return this.$store.state.productionList.filter(n=>n.auditionList.filter(A=>A.isOffered))}},watch:{"$route.query":{immediate:!0,handler(i){this.activeKey=this.$route.query.type}}},methods:{handleTabClick(i){this.$router.replace(`/production/audition/manage?type=${i}`)},handleClickProfileDetail(i){this.selectedProfile=P.find(({email:n})=>i.email===n),this.isProfileDetailVisible=!0},handleManageApplicant(){C({productionName:"(주)엑셀시오르콘텐츠랩"}).then(i=>{this.auditions=i.filter(({isClosed:n})=>!n),this.closedAuditions=i.filter(({isClosed:n})=>n),this.isProfileDetailVisible=!1,this.currentAudition=this.auditions.find(({title:n})=>n===this.currentAudition.title)})}},mounted(){C({productionName:"(주)엑셀시오르콘텐츠랩"}).then(i=>{this.auditions=i.filter(({isClosed:n})=>!n),this.closedAuditions=i.filter(({isClosed:n})=>n),this.isProfileDetailVisible=!1})},components:{ActorItem:x,ActorDetail:D}},L=i=>(F("data-v-bb88381c"),i=i(),R(),i),G={class:"production-audition-manage container"},H=L(()=>c("div",{class:"container__title"}," 진행중인 오디션 ",-1)),W={style:{"margin-bottom":"20px"}},J={key:0},Q=L(()=>c("div",{class:"container__title",style:{"margin-bottom":"20px"}}," 지원자 관리 ",-1)),X={style:{"margin-bottom":"20px"}},Y={class:"tab-panel"},Z={key:0,class:"applicant"},$=["onClick"],ee={key:1,class:"applicant"},te=["onClick"],ie={key:2,class:"applicant"},ne=["onClick"],oe={key:3,class:"applicant"},se=["onClick"];function le(i,n,A,ue,e,d){const h=z,k=U,g=x,y=O,M=K,T=D,V=N,B=q,S=I("RouterLink");return o(),s("div",G,[l(M,{activeKey:i.activeKey,"onUpdate:activeKey":n[2]||(n[2]=t=>i.activeKey=t),size:"large",tabBarStyle:{"font-weight":"700"},onTabClick:d.handleTabClick},{default:u(()=>[l(y,{key:"ongoing",tab:`진행중인 오디션 (${e.auditions.length})`},{default:u(()=>[H,c("div",W,[l(k,{value:e.currentAudition,"onUpdate:value":n[0]||(n[0]=t=>e.currentAudition=t),"button-style":"solid",size:"large"},{default:u(()=>[(o(!0),s(_,null,p(e.auditions,t=>(o(),j(h,{value:t,key:t.title},{default:u(()=>[m(f(t.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),e.currentAudition?(o(),s("div",J,[Q,c("div",X,[l(k,{value:e.subMenu,"onUpdate:value":n[1]||(n[1]=t=>e.subMenu=t),"button-style":"solid",size:"large"},{default:u(()=>[l(h,{value:"applicant"},{default:u(()=>[m(" 지원자 ("+f(e.currentAudition.appliedAuditionees.length)+") ",1)]),_:1}),l(h,{value:"passed"},{default:u(()=>[m(" 프로필합격 ("+f(e.currentAudition.passedAuditionees.length)+") ",1)]),_:1}),l(h,{value:"rejected"},{default:u(()=>[m(" 불합격 ("+f(e.currentAudition.rejectedAuditionees.length)+") ",1)]),_:1}),l(h,{value:"pending"},{default:u(()=>[m(" 보류 ("+f(e.currentAudition.pendingAuditionees.length)+") ",1)]),_:1})]),_:1},8,["value"])]),c("div",Y,[e.subMenu==="applicant"?(o(),s("ul",Z,[(o(!0),s(_,null,p(e.currentAudition.appliedAuditionees,(t,r)=>(o(),s("li",{class:"applicant__item",key:r,onClick:a=>d.handleClickProfileDetail(t)},[l(g,v(e.actors.find(({email:a})=>t.email===a),{index:r}),null,16,["index"])],8,$))),128))])):b("",!0),e.subMenu==="passed"?(o(),s("ul",ee,[(o(!0),s(_,null,p(e.currentAudition.passedAuditionees,(t,r)=>(o(),s("li",{class:"applicant__item",key:r,onClick:a=>d.handleClickProfileDetail(t)},[l(g,v(e.actors.find(({email:a})=>t.email===a),{index:r}),null,16,["index"])],8,te))),128))])):b("",!0),e.subMenu==="rejected"?(o(),s("ul",ie,[(o(!0),s(_,null,p(e.currentAudition.rejectedAuditionees,(t,r)=>(o(),s("li",{class:"applicant__item",key:r,onClick:a=>d.handleClickProfileDetail(t)},[l(g,v(e.actors.find(({email:a})=>t.email===a),{index:r}),null,16,["index"])],8,ne))),128))])):b("",!0),e.subMenu==="pending"?(o(),s("ul",oe,[(o(!0),s(_,null,p(e.currentAudition.pendingAuditionees,(t,r)=>(o(),s("li",{class:"applicant__item",key:r,onClick:a=>d.handleClickProfileDetail(t)},[l(g,v(e.actors.find(({email:a})=>t.email===a),{index:r}),null,16,["index"])],8,se))),128))])):b("",!0)])])):b("",!0)]),_:1},8,["tab"]),l(y,{key:"closed",tab:`마감된 오디션 (${e.closedAuditions.length})`,"force-render":""},{default:u(()=>[c("ul",null,[(o(!0),s(_,null,p(e.closedAuditions,t=>(o(),s("li",{key:t.title,class:"closed-audition"}," - "+f(t.title),1))),128))])]),_:1},8,["tab"])]),_:1},8,["activeKey","onTabClick"]),l(V,{visible:e.isProfileDetailVisible,"onUpdate:visible":n[3]||(n[3]=t=>e.isProfileDetailVisible=t),title:"프로필 상세",width:"1200px",cancelText:"취소",okText:"확인"},{default:u(()=>[c("div",null,[l(T,{operationType:"manage",audition:e.currentAudition,onManageApplicant:d.handleManageApplicant,actor:e.selectedProfile},null,8,["audition","onManageApplicant","actor"])])]),_:1},8,["visible"]),l(S,{class:"btn",to:"/production/audition/create"},{default:u(()=>[l(B,{type:"primary",size:"large"},{default:u(()=>[m("오디션 등록")]),_:1})]),_:1})])}const pe=w(E,[["render",le],["__scopeId","data-v-bb88381c"]]);export{pe as default};
