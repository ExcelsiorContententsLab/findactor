import{a9 as z,aa as N,ah as V,af as L,a6 as B,a7 as F,a8 as G,as as H,at as O,au as k,_ as R,ak as Q,r as S,o as r,c as d,e,F as P,h as w,i as b,w as l,j as p,t as n,g,d as o,G as A,B as Z,av as J,aw as K,ax as W,ay as X,I as Y,aq as $,ar as ee,S as te,v as se,x as ie}from"./index-7ee82bf4.js";/* empty css              */import{u as oe}from"./context-4c127902.js";const ae="/assets/kakao_icon-346d609d.svg",le="/assets/youtube_icon-07b5fc4a.svg",ne="/assets/instagram-icon-af5a82f8.png";const ce={name:"ActorDetail",components:{Swiper:z,SwiperSlide:N,RouterLink:V,ThumbCard:L},props:{status:{type:String,default:""},operationType:{type:String,default:"request"},audition:{default:null},openAuditions:{default:[]},actor:{default:{name:"",gender:"",age:"",height:"",weight:"",imgSrc:"",birthDate:"",email:"",phone:"",skills:"",sns:{},movieProfileList:[{title:"",url:"",imgSrc:"",role:"",year:""}],imageProfileList:[{imgSrc:"",kind:"",role:""}]}}},data(){return{isAddMovieProfileVisible:!1,movieProfileDetail:{title:"",url:"",role:"",year:"",imgSrc:null},movieProfileList:[{imgSrc:"https://www.youtube.com/watch?v=Zy2Ht5gehsQ ",title:"구르미 그린 달빛",role:"단역 가나단역",year:2021},{imgSrc:"/assets/thumb1.jpg",title:"구르미 그린 달빛",role:"단역 가나단역",year:2021},{imgSrc:"/assets/thumb1.jpg",title:"구르미 그린 달빛",role:"단역 가나단역",year:2021},{imgSrc:"/assets/thumb1.jpg",title:"구르미 그린 달빛",role:"단역 가나단역",year:2021},{imgSrc:"/assets/thumb1.jpg",title:"구르미 그린 달빛",role:"단역 가나단역",year:2021},{imgSrc:"/assets/thumb1.jpg",title:"구르미 그린 달빛",role:"단역 가나단역",year:2021}],imageProfileList:[{imgSrc:"https://www.youtube.com/watch?v=Zy2Ht5gehsQ",kind:"상업드라마",role:"단역 가나다역"},{imgSrc:"/assets/imageProfile/2.jpg",kind:"상업드라마",role:"단역 가나다역"},{imgSrc:"/assets/imageProfile/3.jpg",kind:"상업드라마",role:"단역 가나다역"},{imgSrc:"/assets/imageProfile/4.jpg",kind:"상업드라마",role:"단역 가나다역"},{imgSrc:"/assets/imageProfile/5.jpg",role:"단역 가나다역"},{imgSrc:"/assets/imageProfile/6.jpg",role:"단역 가나다역"},{imgSrc:"/assets/imageProfile/7.jpg",role:"단역 가나다역"},{imgSrc:"/assets/imageProfile/8.jpg",role:"단역 가나다역"}],filmoList:[{title:"강철비2 정상회담",year:"2020",kind:"상업드라마",role:"백두호 - 조타사역"},{title:"가장 보통의 연애",year:"2019",kind:"상업드라마",role:"이자카야 매니저 - 단역"},{title:"마약왕",year:"2018",kind:"상업드라마",role:"단역 - 다방 앞 의원 의사역"},{title:"밤의 문이 열린다",year:"2019",kind:"상업드라마",role:"조연 - 이민성역"}],isAuditionRequested:{}}},setup(){return oe(),{success:()=>{Q.success("임시저장 되었습니다.",2)},onSwiper:u=>{},onSlideChange:()=>{},modules:[B,F,G]}},computed:{isUpdate(){return this.status==="update"}},methods:{handleRemoveThumbCard(s){this.$store.state.profile.movieList.splice(s,1),this.$store.commit("saveLocal")},handleClickAddMovieProfile(){this.isAddMovieProfileVisible=!0},handleConfirmAddMovieProfile(){},handleInputMovieProfileDetailURL(s){const{value:i}=s.target,u=/(youtu.*be.*)\/(watch\?v=|embed\/|v|shorts|)(.*?((?=[&#?])|$))/gm.exec(i);if(u){const c=u[3];this.movieProfileDetail.imgSrc=`https://img.youtube.com/vi/${c}/maxresdefault.jpg`}else this.movieProfileDetail.imgSrc=null},handleClickManage(s){H({operationType:s,actorEmail:this.actor.email,auditionTitle:this.audition.title}).then(()=>{this.$emit("manageApplicant")})},handleClickRequest(s){O({actorEmail:this.actor.email,audition:s}).then(()=>{k({actorEmail:this.actor.email,auditionTitle:s.title}).then(({data:i})=>{console.log(i),this.isAuditionRequested[s.title]=i})})},extractThumbnail(s){const t=/(youtu.*be.*)\/(watch\?v=|embed\/|v|shorts|)(.*?((?=[&#?])|$))/gm.exec(s);return t?`https://img.youtube.com/vi/${t[3]}/maxresdefault.jpg`:s}},watch:{actor(){this.openAuditions.forEach(s=>{console.log({email:this.actor.email}),k({auditionTitle:s.title,actorEmail:this.actor.email}).then(({data:i})=>{this.isAuditionRequested[s.title]=i})}),this.actor.movieProfileList=this.actor.movieProfileList.map(s=>({...s,imgSrc:s.imgSrc||this.extractThumbnail(s.url)}))}},mounted(){this.openAuditions.forEach(s=>{console.log({email:this.actor.email}),k({auditionTitle:s.title,actorEmail:this.actor.email}).then(({data:i})=>{this.isAuditionRequested[s.title]=i})}),this.actor.movieProfileList=this.actor.movieProfileList.map(s=>({...s,imgSrc:s.imgSrc||this.extractThumbnail(s.url)}))}},_=s=>(se("data-v-8e841147"),s=s(),ie(),s),re={class:"actor-portfolio"},_e={class:"panel"},de={class:"panel__title"},me=_(()=>e("span",{class:"title"}," 프로필 ",-1)),ue={key:0,class:"btn-group",style:{"margin-left":"auto"}},he={key:1,class:"btn-group",style:{"margin-left":"auto"}},pe={class:"panel__content"},ge={class:"detail-info"},fe={class:"left"},ve={class:"name"},ye={class:"info"},be={class:"info__item"},ke={class:"info__item"},Se={class:"info__item"},Pe={class:"info__item"},we={class:"info2"},xe=_(()=>e("span",{class:"label"},"생년월일",-1)),Ce={class:"text"},De={class:"info2"},Ae=_(()=>e("span",{class:"label"},"이메일",-1)),Le={class:"text"},Re={class:"info2"},Te=_(()=>e("span",{class:"label"},"연락처",-1)),Ie={class:"text"},je={class:"right"},Me={class:"info3"},qe=_(()=>e("span",{class:"label"},"특기",-1)),Ee={class:"info"},Ue={class:"info__item"},ze={class:"info3"},Ne=_(()=>e("span",{class:"label"},"SNS",-1)),Ve={key:0,class:"sns"},Be=_(()=>e("img",{class:"icon",src:ae},null,-1)),Fe={class:"text"},Ge={key:1,class:"sns"},He=_(()=>e("img",{src:le},null,-1)),Oe={class:"text"},Qe={key:2,class:"sns"},Ze=_(()=>e("img",{src:ne},null,-1)),Je={class:"text"},Ke={class:"panel"},We=_(()=>e("div",{class:"panel__title"},[e("span",{class:"title"}," 영상 프로필 ")],-1)),Xe={class:"panel__content"},Ye={class:"panel"},$e=_(()=>e("div",{class:"panel__title"},[e("span",{class:"title"}," 이미지 프로필 ")],-1)),et={class:"panel__content"},tt={class:"panel"},st=_(()=>e("div",{class:"panel__title"},[e("span",{class:"title"}," 작품경력 ")],-1)),it={class:"panel__content"},ot={class:"title"},at={class:"year"},lt={class:"kind"},nt={class:"movie-profile-edit__thumb"},ct=["src"],rt={key:0,class:"footer"},_t={class:"footer__wrapper"},dt={class:"right"};function mt(s,i,t,u,c,m){const h=Z,T=L,x=S("swiper-slide"),C=S("swiper"),I=J,j=K,M=W,q=X,v=Y,f=$,E=ee,U=te,D=S("RouterLink");return r(),d("div",re,[e("div",_e,[e("div",de,[me,t.operationType==="request"?(r(),d("p",ue,[(r(!0),d(P,null,w(t.openAuditions,a=>(r(),b(h,{type:"primary",size:"large",key:a.title,onClick:()=>m.handleClickRequest(a),disabled:c.isAuditionRequested[a.title]},{default:l(()=>[p(" <"+n(a.title)+"> 오디션 "+n(c.isAuditionRequested[a.title]?"제안됨":"제안하기"),1)]),_:2},1032,["onClick","disabled"]))),128))])):g("",!0),t.operationType==="manage"?(r(),d("p",he,[o(h,{type:"primary",size:"large",onClick:i[0]||(i[0]=()=>m.handleClickManage("accept"))},{default:l(()=>[p(" 합격 ")]),_:1}),o(h,{type:"primary",size:"large",onClick:i[1]||(i[1]=()=>m.handleClickManage("reject"))},{default:l(()=>[p(" 불합격 ")]),_:1}),o(h,{type:"primary",size:"large",onClick:i[2]||(i[2]=()=>m.handleClickManage("postpone"))},{default:l(()=>[p(" 보류 ")]),_:1})])):g("",!0)]),e("div",pe,[e("div",ge,[e("div",fe,[e("p",ve,n(t.actor.name),1),e("p",ye,[e("span",be,n(t.actor.gender),1),e("span",ke,n(t.actor.age)+" 세",1),e("span",Se,n(t.actor.height)+" cm",1),e("span",Pe,n(t.actor.weight)+" kg",1)]),e("p",we,[xe,e("span",Ce,n(t.actor.birthDate),1)]),e("p",De,[Ae,e("span",Le,n(t.actor.email),1)]),e("p",Re,[Te,e("span",Ie,n(t.actor.phone),1)])]),e("div",je,[e("div",Me,[qe,e("p",Ee,[e("span",Ue,n(t.actor.skills),1)])]),e("div",ze,[Ne,t.actor.sns.kakao?(r(),d("p",Ve,[Be,e("span",Fe,n(t.actor.sns.kakao),1)])):g("",!0),t.actor.sns.youtube?(r(),d("p",Ge,[He,e("span",Oe,n(t.actor.sns.youtube),1)])):g("",!0),t.actor.sns.instagram?(r(),d("p",Qe,[Ze,e("span",Je,n(t.actor.sns.instagram),1)])):g("",!0)])])])])]),e("div",Ke,[We,e("div",Xe,[o(C,{modules:u.modules,"slides-per-view":m.isUpdate?5:4,"space-between":20,navigation:""},{default:l(()=>[(r(!0),d(P,null,w(t.actor.movieProfileList,(a,y)=>(r(),b(x,{key:y},{default:l(()=>[o(T,A(a,{index:y,update:t.status==="update",onRemove:m.handleRemoveThumbCard}),null,16,["index","update","onRemove"])]),_:2},1024))),128))]),_:1},8,["modules","slides-per-view"])])]),e("div",Ye,[$e,e("div",et,[o(C,{modules:u.modules,"slides-per-view":"auto","space-between":10,navigation:"",class:"image-profile"},{default:l(()=>[(r(!0),d(P,null,w(t.actor.imageProfileList,(a,y)=>(r(),b(x,{key:y},{default:l(()=>[o(I,A(a,{update:t.status==="update"}),null,16,["update"])]),_:2},1024))),128))]),_:1},8,["modules"])])]),e("div",tt,[st,e("div",it,[o(q,{"item-layout":"horizontal","data-source":t.actor.filmoList},{renderItem:l(({item:a})=>[o(M,{class:"profile-filemo"},{default:l(()=>[o(j,{description:a.role},{title:l(()=>[e("span",ot,n(a.title),1),e("span",at," ("+n(a.year)+")",1),e("span",lt,n(a.kind),1)]),_:2},1032,["description"])]),_:2},1024)]),_:1},8,["data-source"])])]),o(U,{visible:c.isAddMovieProfileVisible,"onUpdate:visible":i[7]||(i[7]=a=>c.isAddMovieProfileVisible=a),title:"영상 프로필 추가",onOk:m.handleConfirmAddMovieProfile,cancelText:"취소",okText:"확인"},{default:l(()=>[o(E,{class:"movie-profile-edit","label-col":{style:{width:"100px"}},"wapper-col":{span:6},autocomplete:"off"},{default:l(()=>[o(f,{label:"영상 URL",rules:[{required:!0,message:"연기 영상은 필수 입력값 입니다."}]},{default:l(()=>[o(v,{value:c.movieProfileDetail.url,"onUpdate:value":i[3]||(i[3]=a=>c.movieProfileDetail.url=a),placeholder:"연기 영상 링크",onInput:m.handleInputMovieProfileDetailURL},null,8,["value","onInput"])]),_:1},8,["rules"]),c.movieProfileDetail.imgSrc?(r(),b(f,{key:0,label:"썸네일 이미지"},{default:l(()=>[e("div",nt,[e("img",{class:"image",src:c.movieProfileDetail.imgSrc},null,8,ct)])]),_:1})):g("",!0),o(f,{label:"작품명"},{default:l(()=>[o(v,{value:c.movieProfileDetail.title,"onUpdate:value":i[4]||(i[4]=a=>c.movieProfileDetail.title=a),placeholder:"작품명"},null,8,["value"])]),_:1}),o(f,{label:"역할"},{default:l(()=>[o(v,{value:c.movieProfileDetail.role,"onUpdate:value":i[5]||(i[5]=a=>c.movieProfileDetail.role=a),placeholder:"역할"},null,8,["value"])]),_:1}),o(f,{label:"연도","wrapper-col":{span:8}},{default:l(()=>[o(v,{value:c.movieProfileDetail.year,"onUpdate:value":i[6]||(i[6]=a=>c.movieProfileDetail.year=a),placeholder:"작품 연도"},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["visible","onOk"]),m.isUpdate?(r(),d("div",rt,[e("div",_t,[e("div",dt,[o(D,{to:"/"},{default:l(()=>[o(h,{size:"large"},{default:l(()=>[p(" 취소 ")]),_:1})]),_:1}),o(h,{size:"large",style:{"margin-left":"12px"},onClick:u.success},{default:l(()=>[p(" 임시저장 ")]),_:1},8,["onClick"]),o(D,{to:"/"},{default:l(()=>[o(h,{type:"primary",size:"large",style:{"margin-left":"12px"}},{default:l(()=>[p(" 등록하기 ")]),_:1})]),_:1})])])])):g("",!0)])}const At=R(ce,[["render",mt],["__scopeId","data-v-8e841147"]]);const ut={name:"actor-item",props:["index","name","gender","age","height","weight","imgSrc"],data(){return{GENDER_MAP:{male:"남자",female:"여자"}}}},ht={class:"actor-item"},pt={class:"actor-item__thumb"},gt=["src"],ft={class:"actor-item__content"},vt={class:"name"},yt={class:"info"},bt={class:"info__item"},kt={class:"info__item"},St={class:"info__item"},Pt={class:"info__item"};function wt(s,i,t,u,c,m){return r(),d("div",ht,[e("div",pt,[e("img",{class:"thumb",src:t.imgSrc},null,8,gt)]),e("div",ft,[e("p",vt,n(t.name),1),e("p",yt,[e("span",bt,n(c.GENDER_MAP[t.gender]),1),e("span",kt,n(t.age)+"세 ",1),e("span",St,n(t.height)+"cm ",1),e("span",Pt,n(t.weight)+"kg ",1)])])])}const Lt=R(ut,[["render",wt],["__scopeId","data-v-b2e801c3"]]);export{Lt as _,At as a};
